"use strict";(self["webpackChunkclient"]=self["webpackChunkclient"]||[]).push([[112],{556:function(t,e,o){o.r(e),o.d(e,{default:function(){return Z}});var a=o(1828),s=o(3058),i=o(5223),r=o(4437),n=o(6035),c=o(2469),l=o(5294),d=function(){var t=this,e=t._self._c;return e(n.Z,[e(l.Z,{attrs:{"no-gutters":""}},["0"===Object.keys(t.book).length?e("div",{staticClass:"main_contanier"},[e("grid-loader",{attrs:{loading:t.loading,color:t.color,size:t.size,margin:"10px"}})],1):e(r.Z,{staticClass:"pa-4 mx-auto",attrs:{sm:"10"}},[e(s.Z,{staticClass:"pa-2"},[e(c.Z,{attrs:{src:`/${t.book.image}`,height:"600px",contain:""}}),e(i.h7,{staticClass:"pb-0"},[e(l.Z,{staticClass:"mt-1 mx-1"},[e(r.Z,{attrs:{sm:"2"}},[e(a.Z,{attrs:{small:"",outlined:"",color:"primary",text:""}},[t._v(" "+t._s(t.book.category)+" ")])],1),e(r.Z,{staticClass:"d-flex justify-end",attrs:{sm:"10"}},[e(a.Z,{attrs:{color:"success",text:"",to:{name:"edit-book",params:{id:t.book._id}}}},[t._v("Edit")]),e(a.Z,{attrs:{color:"red",text:""},on:{click:function(e){return t.removeBook(t.book._id)}}},[t._v("Delete")])],1)],1)],1),e(i.Qq,{staticStyle:{"font-weight":"bold"}},[t._v(t._s(t.book.title)+" ")]),e(i.ZB,{staticClass:"grey--text"},[e("p",[t._v(t._s(t.book.content))]),e("p",[t._v(t._s(t.book.created))])])],1)],1)],1)],1)},m=[],u=(o(7658),o(8513)),p=o(6291),k={components:{GridLoader:p.Z},data(){return{book:{},color:"#1976d2",size:"30px"}},async created(){const t=await u.Z.getBookById(this.$route.params.id);this.book=t,console.log(this.book,"book")},methods:{async removeBook(t){const e=await u.Z.deleteBook(t);this.$router.push({name:"home",params:{message:e.message}})}}},b=k,g=o(1001),h=(0,g.Z)(b,d,m,!1,null,"7bc2adb3",null),Z=h.exports},9174:function(t,e,o){o.r(e),o.d(e,{default:function(){return x}});var a=o(1828),s=o(3058),i=o(5223),r=o(4437),n=o(6035),c=o(4192),l=o(4380),d=o(6904),m=o(2469),u=o(5294),p=o(303),k=o(5617),b=function(){var t=this,e=t._self._c;return e(n.Z,[e(u.Z,{attrs:{"no-gutters":""}},["0"===Object.keys(t.book).length?e("div",{staticClass:"main_contanier"},[e("grid-loader",{attrs:{loading:t.loading,color:t.color,size:t.size,margin:"10px"}})],1):e(r.Z,{staticClass:"mx-auto",attrs:{sm:"10"}},[e(s.Z,{staticClass:"pa-5"},[e(i.EB,[t._v("Edit This Book ")]),e(c.Z),e(d.Z,{ref:"form",staticClass:"pa-5",attrs:{enctype:"multipart/form-data"},on:{submit:function(e){return e.preventDefault(),t.updateForm()}}},[e(p.Z,{attrs:{label:"Title",required:"","prepend-icon":"mdi-note"},model:{value:t.book.title,callback:function(e){t.$set(t.book,"title",e)},expression:"book.title"}}),e(p.Z,{attrs:{label:"Category",required:"","prepend-icon":"mdi-view-list"},model:{value:t.book.category,callback:function(e){t.$set(t.book,"category",e)},expression:"book.category"}}),e(k.Z,{attrs:{label:"Content",required:"","prepend-icon":"mdi-note-plus"},model:{value:t.book.content,callback:function(e){t.$set(t.book,"content",e)},expression:"book.content"}}),e(l.Z,{attrs:{"show-size":"",counter:"",multiple:"",label:"Select Image"},on:{change:t.selectFile}}),e(m.Z,{attrs:{src:`/${t.book.image}`,height:"120px",width:"200px"}}),e(a.Z,{staticClass:"mt-3",attrs:{type:"submit",color:"success"}},[t._v(" Update Book ")])],1)],1)],1)],1)],1)},g=[],h=(o(7658),o(8513)),Z=o(6291),f={components:{GridLoader:Z.Z},data(){return{book:{title:"",category:"",content:"",image:""},image:" ",color:"#1976d2",size:"30px"}},async created(){const t=await h.Z.getBookById(this.$route.params.id);this.book=t},methods:{selectFile(t){this.image=t[0]},async updateForm(){const t=new FormData;if(t.append("image",this.image),t.append("title",this.book.title),t.append("category",this.book.category),t.append("content",this.book.content),t.append("old_image",this.book.image),this.$refs.form.validate()){const e=await h.Z.updateBook(this.$route.params.id,t);this.$router.push({name:"home",params:{message:e.message}})}}}},v=f,y=o(1001),_=(0,y.Z)(v,b,g,!1,null,"4f405076",null),x=_.exports}}]);
//# sourceMappingURL=book.e98b6cc8.js.map